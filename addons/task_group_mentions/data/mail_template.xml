<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- Mail template for group notifications -->
        <record id="mail_template_task_group_notification" model="mail.template">
            <field name="name">Task: Group Notification</field>
            <field name="model_id" ref="project.model_project_task"/>
            <field name="subject">Task Update: {{ object.name }}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p style="margin: 0px; padding: 0px; font-size: 14px;">
        Hello,
    </p>
    <p style="margin-top: 10px; font-size: 14px;">
        You are receiving this notification because you were mentioned in a group notification on task:
        <strong>{{ object.name }}</strong>
    </p>
    <p style="margin-top: 10px;">
        <a href="/web#id={{ object.id }}&amp;model=project.task&amp;view_type=form" 
           style="background-color: #875A7B; padding: 10px 20px; text-decoration: none; color: #fff; border-radius: 5px; display: inline-block;">
            View Task
        </a>
    </p>
    <p style="margin-top: 20px; font-size: 12px; color: #888;">
        Project: {{ object.project_id.name }}<br/>
        Stage: {{ object.stage_id.name }}<br/>
        Assigned to: {{ object.user_ids.mapped('name')|join(', ') or 'Unassigned' }}
    </p>
</div>
            </field>
            <field name="email_from">{{ (object.project_id.user_id.email_formatted or user.email_formatted) }}</field>
            <field name="auto_delete" eval="True"/>
        </record>
    </data>
</odoo>